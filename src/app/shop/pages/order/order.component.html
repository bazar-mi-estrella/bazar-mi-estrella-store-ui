<!-- header start -->
<app-header-two [style_2]="true"></app-header-two>
<!-- header end -->

<!-- breadcrumb area start -->
<app-breadcrumb-one title="Seguimiento de su pedido" subtitle="Seguimiento de su pedido"></app-breadcrumb-one>
<!-- breadcrumb area end -->

<!-- order area start -->
<section class="tp-order-area pb-160">
  <div class="container">
    <div class="tp-order-inner">
      <div class="row gx-0">


        <div class="col-lg-6">
          <div class="tp-order-details" data-bg-color="#4F3D97" style="background-color: rgb(79, 61, 151)">
            <!-- Mostrar el loader mientras carga -->
            <ngx-skeleton-loader *ngIf="isLoading" count="8"
              [theme]="{ height: '30px', 'margin-bottom': '15px', 'background-color': '#66589b' }"></ngx-skeleton-loader>

            <div class="tp-order-details-top text-center mb-70" *ngIf="!isLoading">
              <div class="tp-order-details-icon">
                <span>
                  <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M46 26V51H6V26" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
                    <path d="M51 13.5H1V26H51V13.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
                    <path d="M26 51V13.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
                    <path
                      d="M26 13.5H14.75C13.0924 13.5 11.5027 12.8415 10.3306 11.6694C9.15848 10.4973 8.5 8.9076 8.5 7.25C8.5 5.5924 9.15848 4.00269 10.3306 2.83058C11.5027 1.65848 13.0924 1 14.75 1C23.5 1 26 13.5 26 13.5Z"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path
                      d="M26 13.5H37.25C38.9076 13.5 40.4973 12.8415 41.6694 11.6694C42.8415 10.4973 43.5 8.9076 43.5 7.25C43.5 5.5924 42.8415 4.00269 41.6694 2.83058C40.4973 1.65848 38.9076 1 37.25 1C28.5 1 26 13.5 26 13.5Z"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </span>
              </div>
              <div class="tp-order-details-content">
                <h3 class="tp-order-details-title">{{titlePedido}}</h3>
                <p>
                  {{descripcionPedido}}
                </p>
              </div>
            </div>
            <div class="tp-order-details-item-wrapper" *ngIf="!isLoading">
              <div class="row">
                <div class="col-sm-6">
                  <div class="tp-order-details-item">
                    <h4>Fecha de pedido:</h4>
                    <p>{{ dataOrder.datecreate | date:'dd/MM/yyyy'}}</p>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="tp-order-details-item">
                    <h4>Fecha de entrega:</h4>
                    <p>{{ dataOrder.datedelivery ? (dataOrder.datedelivery | date: 'dd/MM/yyyy') : '- -' }}</p>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="tp-order-details-item">
                    <h4>Número de orden:</h4>
                    <p>#{{dataOrder.numcode}}</p>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="tp-order-details-item">
                    <h4>Método de pago:</h4>
                    <p>{{dataOrder.paymentmethod || '- -'}}</p>
                  </div>
                </div>
              </div>
            </div>



          </div>
        </div>

        <!-- apartado de detalles del pedido -->
        <div class="col-lg-6">


          <!-- Mostrar el loader mientras carga -->
          <ngx-skeleton-loader *ngIf="isLoading" count="10"
            [theme]="{ height: '30px', 'margin-bottom': '15px', 'background-color': '#f4f4f4' }"></ngx-skeleton-loader>

          <div class="tp-order-info-wrapper" *ngIf="!isLoading">
            <h4 class="tp-order-info-title">Detalles del pedido</h4>

            <div class="tp-order-info-list">
              <ul>
                <!-- header -->
                <li class="tp-order-info-list-header">
                  <h4>Producto</h4>
                  <h4>Total</h4>
                </li>

                <!-- lista de productos pedidos -->
                <li class="tp-order-info-list-desc" *ngFor="let detalle of dataOrder.listdetails">
                  <p>{{detalle.productName || detalle.description}} <span> x {{detalle.quantity}}</span></p>
                  <span>s/{{detalle.total}}</span>
                </li>

                <!-- subtotal -->
                <li class="tp-order-info-list-subtotal">
                  <span>Subtotal</span>
                  <span>s/{{dataOrder.subtotal}}</span>
                </li>
                <!-- shipping -->
                <li class="tp-order-info-list-shipping" *ngIf="false">
                  <span>Envío</span>
                  <div class="tp-order-info-list-shipping-item d-flex flex-column align-items-end">
                    <span>
                      <input id="shipping_info" type="checkbox" />
                      <label for="shipping_info">Tarifa plana: <span>$20.00</span></label>
                    </span>
                  </div>
                </li>
                <!-- total -->
                <li class="tp-order-info-list-total">
                  <span>Total</span>
                  <span>s/{{dataOrder.total}}</span>
                </li>
              </ul>
            </div>
          </div>
          <!-- apartado de texto para pagar orden-->
          <div class="tp-order-info-wrapper" *ngIf="!isPagado && !isLoading">
            <h5>Su pago aún esta pendiente de realizar.</h5>
            <button type="button" class="tp-checkout-btn w-100" (click)="payOrder()">Pagar orden</button>
          </div>
        </div>



      </div>
    </div>
  </div>
</section>
<!-- order area end -->

<!-- footer start -->
<app-footer-one [primary_style]="true"></app-footer-one>
<!-- footer end -->